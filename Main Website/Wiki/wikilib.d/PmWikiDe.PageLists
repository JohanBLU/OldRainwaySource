version=pmwiki-2.2.138 ordered=1 urlencoded=1
author=MFWolff
charset=UTF-8
csum=break second Summary PTV (+4)
ctime=1136279075
name=PmWikiDe.PageLists
rev=57
targets=PmWikiDe.PageListTemplates,PmWikiDe.DocumentationIndex,PmWikiDe.PageTextVariables,PmWikiDe.PageVariables,PmWikiDe.WikiTrails,PmWikiDe.BasicVariables,Cookbook.SearchResults,PmWikiDe.PagelistVariables,Site.PageListTemplates,Site.LocalTemplates,PmWikiDe.PageListDefaultTemplates,PmWikiDe.Categories,Cookbook.PageListMultiTargets,PmWikiDe.ConditionalMarkup,PmWiki.CustomPagelistSortOrder,PmWiki.PagelistVariables,PmWikiDe.PathVariables,PmWikiDe.Internationalizations,PmWikiDe.PageDirectives,Cookbook.PagelistTemplateSamples,Cookbook.Forms,PmWikiDe.CustomPagelistSortOrder,PmWikiDe.PageLists,Cookbook.CustomPagelistSortOrderFunctions,PmWiki.PageLists,PmWiki.Search,Category.PageList,Cookbook.PageList
text=(:title Seitenlisten:)%0a(:Summary: Erstellung von Seitenlisten und Suchergebnislisten mit verschiedenen Kriterien, deren Ausgabe durch Vorlagen gesteuert werden kann:)%0a(:Original_Page: PmWiki.{$Name}:)%0a(:Translation_Date: 2011-05-01:)%0a(:Translation_Status: %25green%25fertig%25%25:)%0a(:Audience: Autoren (Fortgeschrittene) und Administratoren:)%0a%0aPmWiki kommt mit zwei Direktiven zum Erzeugen von Seitenlisten &ndash; [@(:pagelist:)@] und [@(:searchresults:)@]. Beide Direktiven sind im Grunde das Gleiche und jede nimmt die unten beschriebenen Parameter entgegen. Der eigentliche Unterschied ist, dass [@(:searchresults:)@] die Nachrichten "Suche nach ..." und "### Treffer aus insgesamt ### durchsuchten Seiten" um das Ergebnis erzeugt.%0a%0aDie [@(:searchbox:)@]-Direktive erzeugt ein Such-Formular (input text search box) zum Eintragen der Suchanfragen. Das Markup nimmt die gleichen Parameter wie [@(:pagelist:)@] entgegen, wodurch es möglich ist, das Suchergebnis in gleicher Weise einzuschränken, zu sortieren und zu formatieren wie es unten für [@(:pagelist:)@] beschrieben ist. Für weitere Informationen über die [@(:searchbox:)@]-Direktive und die Art, wie sie sich von [@(:pagelist:)@] unterscheidet, können Sie vorspringen zum Abschnitt [[#searchbox|Die Searchbox-Direktive]]. %0a%0a!! Grundlegende Syntax%0a* [@(:pagelist:)@] ohne irgendein Argument zeigt eine unnummerierte Liste aller Seiten als Links, alphabetisch und in Gruppen geordnet.%0a* @@[=(:=]pagelist [[#pagelistgroup|group]]=''ab'' \%0a  [[#pagelistname|name]]=''cd'' \%0a  [[#pagelistfmt|fmt]]=''[[page list templates|template]]''  \%0a  [[#pagelistlist|list]]=''ef'' \%0a  [[#pagelistorder|order]]=''gh'' \%0a  [[#pagelistcount|count]]=''123'' \%0a  [[#pagelistlink|link]]=''ij'' \%0a  [[#pagelisttrail|trail]]=''kl''  \%0a  [[#pagelistwrap|wrap]]=''mn''  \%0a  [[#pagelistpasswd|passwd]]=''op''  \%0a  [[#pagelistif|if]]=''qr''  \%0a  [[#pagetextvariables|$:''stv'']]=''st'' \%0a  [[#pagevariables|$''sv'']]=''uv'' \%0a  [[#pagelistcache|cache]]=0 \%0a  ''[[#pagelistarg|argument]]1''&nbsp;-''[[#pagelistarg|argument]]2'' ''etc'' \%0a  [[#includevariable|variable]]=''value'' \%0a  [[#pagelistclass|class]]=''class'' \%0a  :)@@ %0a->zeigt eine Liste gemäß der übergebenen Parameter an. Parameter sind optional.%0a* @@[=(:=][[#searchbox|searchbox]] value=''abc'' size=''99'' target=''def'':)@@%0a* @@[=(:=][[#searchresults|searchresults]] [[#pagelistreq|''request=1 req=1'']] :)@@%0a%0a!! Parameter %0a[[#pagelistarg]]%0aAlle Argumente, die in [@(:pagelist:)@] auftauchen und nicht von der Form 'Schlüssel=Wert' sind, werden als Text behandelt, der im Seitentext vorkommen muss (oder nicht darf). %0a%0aDas Minus-Zeichen (-) kann benutzt werden um anzuzeigen, dass Dinge ausgeschlossen werden sollen. So listet %0a->[@(:pagelist trail=PmWiki.DocumentationIndex list=normal Apfel -Strudel:)@]%0aalle "normalen" Seiten im [[Documentation Index|+]] auf, die "Apfel" aber nicht "Strudel" enthalten.%0a%0a%0a!!![[#pagetextvariables]]Mit Seiten-Text-Variablen (STV)%0a[-In der englischen Dokumentation wird die Abkürzung PTV (page text variable) benutzt.-]%0a%0aMan kann auch [[page text variables|+]] als Schlüssel benutzen, um Seiten gemäß der Existenz von [[page text variables|+]] aufzulisten. %0a->[@(:pagelist $:seitentextvar=einwert:)@]%0alistet alle Seiten auf, in denen ''$:seitentextvar'' auf ''einwert'' gesetzt ist.%0a[[%3c%3c]]%0aMinuszeichen (-), Joker (?*) und kommagetrennte Listen von Werten funktionieren auch, wenn eine Auswahl auf [[page text variables|+]]  beruht.%0a%0aZ.&nbsp;B. listet %0a->[@(:pagelist $:eineseitentextvar=t*,-test:)@]%0aalle Seiten auf, deren Variable ''$:eineseitentextvar'' auf 't*' passt, aber nicht 'test' ist.\\\%0a%0aBeispiele:%0a||width=* class="tabtable" rules=rows padding=1em%0a||STV ist gesetzt (ist nicht leer):    ||[@(:pagelist $:MeineSeitenTextVariable=- :)@]||%0a||STV ist leer oder nicht gesetzt:[[%3c%3c]]&nbsp;(d.&nbsp;h. ist nicht gesetzt auf ein Zeichen,[[%3c%3c]]&nbsp;gefolgt von 0 oder mehr Zeichen) ||[@(:pagelist $:MeineSeitenTextVariable=-?* :)@]||%0a||STV ist nicht WERT:                  ||[@(:pagelist $:MeineSeitenTextVariable=-WERT :)@]||%0a||STV ist gesetzt und nicht JA:        ||[@(:pagelist $:MeineSeitenTextVariable=?*,-JA:)@]||%0aSeien Sie auf der Hut, wenn Sie [@(:pagelist $:MySTV=$:YourSTV :)@] benutzen, Seiten-Text-Variablen enthalten Formatierungen, Sie könnten nicht die Treffer erhalten, die Sie eigentlich erwartet haben. Momentan ist der einzige Weg, darum herum zu kommen, der Gebrauch von Jokern; wenn Formatstrings enthalten sind, könnten Sie sich vom Glück verlassen fühlen.%0a%0a!!![[#pagevariables]]Mit Seiten-Variablen (SV)%0a[-In der englischen Dokumentation wird die Abkürzung PV (page variable) benutzt.-]%0a%0a[[PageVariables|+]] können in Seitenlisten auf die gleiche Weise benutzt werden wie [[page text variables|+]]. Siehe [[#pagetextvariables|oben]] für weitere Einzelheiten. Man benutzt einfach $var statt $:var.%0a%0a%0a!!![[#pagelistgroup]] group= und [[#pagelistname]]name= %0a%0aDie "[@group=@]"- und "[@name=@]"-Parameter begrenzen das Ergebnis auf Seiten in einer bestimmten Gruppe oder mit einem bestimmten Namen:%0a(:table class='tabtable' rules=rows:)%0a(:cellnr:)Alle Seiten der PmWikiDe-Gruppe:%0a(:cell:)[@(:pagelist group=PmWikiDe :)@]%0a(:cellnr:)Alle Seiten außer denen der PmWikiDe- oder Site-Gruppe:%0a(:cell:)[@(:pagelist group=-PmWikiDe,-Site :)@]%0a(:cellnr:)Alle RecentChanges-Seiten%0a(:cell:)[@(:pagelist name=RecentChanges :)@]%0a(:cellnr:)Alle Seiten außer RecentChanges%0a(:cell:)[@(:pagelist name=-RecentChanges :)@]%0a(:tableend:)%0a%0a!!! Joker%0aNamen- und Gruppenparameter können ''Joker''-Zeichen enthalten, die nur Seiten zeigen, die auf das Muster passen:%0a* Ein Stern (*) steht für null oder mehr Zeichen.%0a* Ein Fragezeichen (?) steht für genau ein Zeichen.%0a* Ein Satz von Zeichen, die in eckigen Klammern eingefasst sind, repräsentieren jedes der Zeichen in den Klammern, aber kein anderes%0a%0aBeispiele:%0a(:table class='tabtable' rules=rows:)%0a(:cell:)Alle Seiten in allen Gruppen, die mit "PmWiki" beginnen:%0a(:cell:)[@(:pagelist group=PmWiki* :)@]%0a(:cellnr:)Alle Seiten in allen Gruppen, die mit "PmWiki" beginnen außer chinesische:%0a(:cell:)[@(:pagelist group=PmWiki*,-PmWikiZh :)@]%0a(:cellnr:)Alle Seiten in der PmCal-Gruppe, deren Name mit "2005" beginnt:%0a(:cell:)[@(:pagelist name=PmCal.2005* :)@]%0a(:cellnr:)Alle Kochbücher, deren Name mit einem A oder einem B beginnen:%0a->Beachten Sie die verschiedenen Separatoren, die zum gleichen Ergebnis führen.%0a(:cell:)[@%0a(:pagelist group=Cookbook  name=A*,B*   :)%0a(:pagelist group=Cookbook  name="A* B*" :)%0a(:pagelist group=Cookbook  name=[AB]*   :)%0a(:pagelist group=Cookbook, name=[AB]*   :)@]%0a(:tableend:)%0a%0aWenn Sie mehrfache Bedingungen in ''name'' benutzen wollen, müssen Sie Anführungszeichen als Stringbegrenzer oder Kommata ohne Leerzeichen als Trenner einsetzen. Zum Beispiel%0a-> [@key="ein Wert,anderer Wert"@]%0a%0a!!![[#pagelisttrail]] trail= %0a%0aDie "[@trail=@]"-Option besorgt sich die Liste der anzuzeigenden Seiten aus einem [[WikiTrail(s)]]:%0a* Zeige die Seiten in der Dokumentation an, geordnet nach der Änderungszeit%0a->[@(:pagelist trail=PmWiki.DocumentationIndex order=-time:)@]%0a* Zeige die fünf zuletzt geänderten Seiten an%0a->[@(:pagelist trail=RecentChanges count=5:)@]%0a%0a!!![[#pagelistlist]] list= %0a%0aDie "[@list=@]"-Option erlaubt einer Suche, Seiten ein- oder auszuschließen bezüglich vom Administrator vordefinierter Muster%0a* "[@list=normal@]" ist vordefiniert und schließt Seiten wie AllRecentChanges, RecentChanges, GroupHeader, GroupFooter, GroupAttributes, und Ähnliches von der angezeigten Ergebnisliste aus. Beachten Sie, dass @@list=normal@@ auch die aktuelle Seite ausschließt.%0a* "[@list=all@]" überschreibt einen Standard, den der Administrator gesetzt haben könnte, um Gruppen wie PmWiki oder Site von den gewöhnlichen Suchergebnissen auszuschließen. %0a* "[@list=grouphomes@]" listet nur die Homepages aller Gruppen im Wiki, also ''Gruppe.Gruppe'' oder ''Gruppe.HomePage'' oder andere/lokalisierte Homepages, wie sie ggf. in $DefaultName und/oder $PagePathFmt definiert wurden.%0a%0aWikiadministratoren können angepasste Listen über das Suchmuster-Array $SearchPatterns definieren (siehe [[Cookbook:SearchResults]]).%0a%0a!!![[#pagelistfmt]] fmt= %0a%0aDie "[@fmt=@]"-Option bestimmt, wie das Ergebnis angezeigt wird. PmWiki [[Site/PageListTemplates|definiert]] mehrere Formate vor:%0a* @@fmt=#default@@ - Das ist das Format, das beim Fortlassen des @@fmt=@@-Parameters benutzt wird. Es ist in [[Site/PageListTemplates]] wie @@#bygroup@@ definiert (siehe unten).\\%0a%25note%25Beachten Sie, dass das PmWiki.org-Wiki diese Definition in [[Site/LocalTemplates]] überschreibt. Das wird in Ihrem Wiki nicht so sein, da ''Site/LocalTemplates'' nicht in der Distribution vorhanden ist.%0a* @@fmt=#bygroup@@ - Zeige Seitennamen, gruppiert nach Gruppennamen an, innerhalb der Gruppen alphabetisch sortiert. %0a* @@fmt=#simple@@  - Zeige eine einfache geordnete Liste von Seiten an in der Form ''Gruppe.Name''.%0a* @@fmt=#title@@   - Zeige in der Liste die Seitentitel statt der Namen an (keine Gruppennamen). Die Liste ist nach Titeln sortiert. %0a* @@fmt=#titlespaced@@   - Zeige in der Liste die Seitentitel statt der Namen an, ggf. mit Leerzeichen, sortiert nach Titeln. Das ist nur relevant, wenn in der Seite kein Titel mit [@(:Title ttttt:)@] definiert wurde. Dann wird der Seitenname angezeigt wie bei @@fmt=#simplenamespaced@@.%0a* @@fmt=#group@@   - Zeige eine Liste von Wikigruppen (ohne die Seiten in den Gruppen).%0a* @@fmt=#grouphomes@@  - Zeige eine optimierte Aufzählungsliste von Gruppenstartseiten an (funktioniert mit count=.... ), PmWiki 2.2.103 oder später erforderlich.%0a* @@fmt=#include@@ - Zeige den Inhalt jeder Seiten in der Liste an (Beachten Sie, das kann seeehr lange dauern für eine lange Liste!).%0a* @@fmt=#includefaq@@  - fügt den FAQ-Abschnitt nach dem Namen der Seite ein. (Das kann sehr aufwändig sein, insbesondere, wenn die Liste Seiten enthält, in denen der [@[[#faq]]@]-Anker fehlt!)%0a* @@fmt=#description@@  - Listet die Titel der Seiten auf und fügt die Beschreibung an, wenn diese existiert. Es werden hinter jeden Titel Bindestriche gesetzt, auch wenn es keine Beschreibung gibt. Dies kann nicht verhindert werden.%0a* @@fmt=#simplename@@ - Zeige eine einfache Aufzählungsliste mit den Seitennamen (zusammengeschrieben) an, ohne die Gruppennamen.%0a* @@fmt=#simplenamespaced@@ - Zeige eine einfache Aufzählungsliste mit den Seitennamen (ggf. mit Leerzeichen) an, ohne die Gruppennamen.%0a* @@fmt=#titlesummary@@ - Listet die Titel mit den Zusammenfassungen der Seiten auf, die in der Seite mit [@(:Title ttttt:)@] und [@(:Summary@][@:sssss:)@] definiert wurden.%0a* @@fmt=#count@@ - gibt die Anzahl der Seiten in der Liste an, zählt nur "normale" Seiten (im Gegensatz zu @@fmt=count@@). %0a%0aDiese Formate werden definiert in [[page list templates|+]], die angepasst werden können (Siehe auch [[PageListDefaultTemplates|+]] und [[Site/PageListTemplates]] [-(in Englisch)-]). (:comment zur Übersetzung: PageListDefaultTemplates gibt es in der englischen Version nicht (mehr), Site/PageListTemplates ist dort gleichzeitig Definition und Beschreibung:)%0a%0a!!![[#pagelistfmtcount]] fmt=count%0a%0aDies Format ist nicht in der Seitenlistenvorlage definiert:%0a* @@fmt=count@@ - Zeige die Anzahl der Seiten in der Liste an (Beachten Sie das Fehlen des '#'). In einem 'trail' zählt [@fmt=count@] existierende und nicht existierende Seiten; um count auf existierende Seiten zu beschränken, benutzen Sie @@if="exists {=$FullName}" fmt=count@@ [-([[http://thread.gmane.org/gmane.comp.web.wiki.pmwiki.user/58621|mailing list]])-].%0a%0a%0a!!![[#pagelistlink]] link= %0a%0aDie "[@link=@]"-Option implementiert Rückverweise &ndash; d.&nbsp;h. sie liefert eine Liste von Seiten, die auf die Zielseite verweisen. Das ist insbesondere nützlich für [[PmWikiDe/categories|+]] und zum Finden zugehöriger Seiten.  %0a%0a* Alle Seiten mit einem Verweis auf den Dokumentationsindex von PmWikiDe %0a->[@(:pagelist link=PmWikiDe.DocumentationIndex:)@]%0a* Alle Seiten mit Verweisen auf die aktuelle Seite%0a->[@(:pagelist link={$FullName}:)@]%0a* Alle Seiten in der "Skins"-Kategorie%0a->[@(:pagelist link=Category.Skins:)@]%0a%0aBeachte, dass die "[@link=@]"-Option weder negative Ziele, noch mehrere Ziele noch Joker-Zeichen entgegen nimmt. Siehe hierfür Cookbook:PageListMultiTargets. %0a%0aAußerdem ignoriert [@link=@] die Direktiven [@(:if...:)@], [@(:include...:)@], [@(:redirect...:)@], [@(:pagelist...:)@] und Seitentextvariablen-Direktiven, während nach Verweisen in einer Seite gesucht wird. Das bedeutet, Verweise in eingeschlossenen Seiten werden nicht gefunden, und Verweise innerhalb nicht angezeigter bedingter Auszeichnungen werden gefunden. Im Kapitel über [[PageTextVariables|+]] werden Wege beschrieben, einen Verweis auf einer Seite zu verstecken und doch [@link=@] zu erlauben, ihn zu finden.%0a%0a!!![[#pagelistcount]] count= %0a%0aDie "[@count=@]"-Option bietet die Möglichkeit, %0a* die Seitenliste auf ein bestimmte Anzahl von Seiten zu begrenzen,%0a* Ausschnitte aus der Liste anzuzeigen, %0a* einen Abschnitt des Listenendes anzuzeigen,%0a* Seiten in umgekehrter Reihenfolge anzuzeigen.%0a%0a%0a(:table class=tabtable rules=rows:)%0a(:cellnr:)Eine einfache, unnummerierte Liste der zehn zuletzt geänderten Seiten:%0a(:cell:)%0a[@(:pagelist trail=Site.AllRecentChanges count=10 fmt=#simple:)@]%0a(:cellnr:) Zeige die ersten zehn Seiten einer Liste an:%0a(:cell:)%0a[@%0acount=10       # Zeige die ersten zehn Seiten an%0a@]%0a(:cellnr:) Negative Zahlen zählen die Seiten vom Ende der Liste aus:%0a(:cell:)%0a[@%0acount=-10      # Zeige die letzten zehn Seiten an%0a@]%0a(:cellnr:) Bereiche können mit '..' angegeben werden, so wie hier:%0a(:cell:)%0a[@%0acount=1..10    # die ersten zehn Seiten%0acount=5..10    # 5. bis 10. Seite@]%0a(:cellnr:)Negative Zahlen in Bereichen zählen von Ende der Liste aus:%0a(:cell:)%0a[@%0acount=-10..-5  # 10. von hinten, 9. von hinten, %0a                 ..., 5. von hinten@]%0a(:cellnr:)Lässt man den Start oder das Ende des Bereiches weg, wird dafür der Start oder das Ende der Liste gesetzt:%0a(:cell:)%0a[@%0acount=10..     # überspringe die ersten zehn Seiten%0acount=..10     # 1. bis 10. Seite%0acount=-10..    # die letzten zehn Seiten%0acount=..-10    # Alle bis auf die letzten neun Seiten@]%0a(:cellnr:) Bereiche können umgedreht werden, um anzuzeigen, dass die Reihenfolge der Seiten in der Ausgabe ebenso umgedreht werden sollen:%0a(:cell:)%0a[@%0acount=5..10    # 5. bis 10. Seite%0acount=10..5    # das gleiche rückwärts%0acount=-1..1    # Alle Seiten von hinten %0a                 nach vorn aufgelistet@]%0a(:cellnr:)"Rückwärts zählen" hier bezieht sich auf die Liste ''nach'' der Sortierung, deshalb sind die drei Anweisungen rechts äquivalent:%0a(:cell:)%0a[@%0a(:pagelist order=-name count=10:)%0a(:pagelist order=-name count=1..10:)%0a(:pagelist order=name  count=-1..-10:) @]%0a(:tableend:)%0a%0a[-Vergleiche [[#pagelistfmtcount|fmt=count]]-]%0a%0a!!![[#pagelistwrap]] wrap=%0aDie "[@wrap@]"-Option hat die Werte ''none'' und ''inline''.%0a%0aMit "wrap=inline" und "wrap=none" wird die Ausgabe der Seitenliste (Markup oder HTML) direkt im Markup der Seite eingebettet ohne irgendwelche umgebenden %3cdiv class=...> - %3c/div>-Tags.%0a%0aMit "wrap=inline" wird eine umgebende %3cul> fortgesetzt. Ohne "wrap=inline" startet die HTML-Ausgabe eine neue %3cul> %25green%25(nicht umgekehrt?)%25%25. Das ist wichtig, wenn man möchte, dass die Seitenliste eine zweite Ebene in der %3cul> erzeugt, denn der Beginn einer neuen Liste mit "**" führt nicht zu einer zweiten %3cul>-Ebene sondern zu %3cdl>%3cdd>%3cul>...%0a%0a"wrap=inline" hat außerdem noch andere Effekte, da es den Aufruf von $FPLTemplateMarkupFunction unterdrückt (die standardmäßig MarkupToHTML ist). %0a%0a!!![[#pagelistclass]] class=%0aStandardmäßig hat eine Seitenliste die 'fpltemplate'-Klasse. Die 'bygroup'-, 'simple'-, 'group'- und 'title'-Seitenlistenformate haben eigene Klassennamen fplbygroup, fplsimple etc. Man kann selbst eine Klasse mit dem ''class''=-Parameter angeben oder durch setzen des $FPLFormatOpt-Arrays.%0a%0a!!![[#pagelistrequest]] request=1%0aMit [@(:pagelist [andere Parameter] request=1:) @] können Sie  die meisten Seitenlisten-Parameter überschreiben, indem Sie die Parameter in den URL einfügen.\\%0aBeispiele:%0a* [@ (:pagelist order=name request=1:) @] sortiert normalerweise die Liste nach Namen. Wenn aber der URL der Seite @@?order=time@@ enthält, wird die Liste nach der Zeit sortiert. %0a* Enthält der URL @@?order=@@, bleibt die Liste unsortiert.%0aHinweise: Kodieren Sie jedes "#" in dem URL als "%2523".\\%0aDa dieser Parameter Benutzern ohne Bearbeiten-Recht die Möglichkeit gibt, Seitenlisten nach ihrer Fa&ccedil;on zu gestalten, sollten sie seine Sicherheitsauswirkungen für Ihre Website beachten, bevor Sie ihn einsetzen. %0a%0aSeit Version 2.2.71 ist es möglich, explizit nur bei ausgewählten Parametern zu erlauben, sie zu überschreiben, oder bei einigen Parametern zu verbieten, sie zu überschreiben. Wenn Sie das brauchen, setzen Sie statt der 1 den Parameternamen ein.%0a%0aAlle Parameter zum Überschreiben frei geben:\\%0a[@(:pagelist request=1:)@]%0a%0aNur die Parameter 'order' und 'count' dürfen überschrieben werden:\\%0a[@(:pagelist request=order,count:)@]%0a%0aErlaube, alle Parameter zu überschreiben, außer 'fmt' und 'trail', beachten Sie das Minuszeichen vor jedem verbotenen Parameter.\\%0a[@(:pagelist request=-fmt,-trail:)@]%0a%0a!!![[#pagelistreq]] req=1%0aDer @@req=1@@-Parameter erfordert, dass Suchbegriffe übertragen werden (das heißt, dass der Benutzer "Suchen" in einem Suchenformular angeklickt hat oder einen Verweis mit zusätzlichen Parametern folgt wie [@[[Page?q=terms&order=-name]]@]), bevor die Seitenliste erzeugt wird.\\%0aBeachten Sie, dass [@(:pagelist request=1 req=1:)@] fast wie [@(:searchresults:)@] funktioniert, wenn auch ohne die Zeilen "Suche nach ..." und "X Treffer aus insgesamt Y durchsuchten Seiten.". Beide Parameter "request=1" and "req=1" sind nötig.%0a%0aWenn eine Suche durchgeführt wird, entweder über eine @@searchbox@@-Direktive oder das Suchfeld des Skins, wird die Seite zum Darstellen des Suchergebnisses benutzt, wenn die Seite eine @@searchresults@@-Direktive enthält; enthält die Seite die @@searchresults@@-Direktive nicht, wird Site.Search für die Ausgabe des Suchergebnisses benutzt. %0a%0a!!![[#pagelistpasswd]] passwd=%0aDie "[@passwd@]"-Option liefert nur jene Seiten zurück, die eins der Passwortattribute gesetzt haben (z.&nbsp;B. @@passwd=write@@).%0a%0a!!![[#pagelistif]] if=%0aDie "[@if@]"-Option erlaubt Bedingungen für die Erzeugung von Seitenlisten zu setzen, statt dies in den [[PmWikiDe/page list templates|+]] zu tun. Nur die Seiten, für die die Bedingung wahr ist, werden ausgeliefert. Alles, was [[ConditionalMarkup | in einem [@(:if ...:)@] funktioniert]], kann als Bedingung genommen werden. Zum Beispiel liefert %0a->  [@(:pagelist if="date {(ftime %25GW%25V {*$Name})} {=$Name}" :)@]%0aalle Seiten aus, deren Namen in der gleiche Woche liegt wie der Name der aktuellen Seite (also der Seite, in die die Liste eingebettet ist).%0a%0aWenn ein Argument innerhalb der Anführungszeichen Leerzeichen enthalten kann, muss es in Anführungszeichen gesetzt werden.%0a  [@(:pagelist if="date 2009-01-01..2009-12-31 '{=$:Mydate}'" :)@]%0a%0a!!![[#pagelistorder]] order=%0a%0aDie "[@order=@]"-Option erlaubt es, die gelisteten Seiten nach unterschiedlichen Kriterien zu sortieren. Mit einem Minuszeichen erreicht man eine umgedrehte Sortierreihenfolge. Mehrfache Sortierkriterien können durch Kommata getrennt angegeben werden. Außerdem können Sie Ihre eigenen [[(PmWiki:)custom pagelist sort order|Sortierreihenfolgen]] erzeugen: %0a%0a* [@order=name@] - alphabetisch nach Namen (Standardreihenfolge)%0a* [@order=$Name@] - alphabetisch nach Namen gruppenübergreifend%0a* [@order=title@] - alphabetisch nach Titeln statt nach Namen%0a* [@order=time@] - zuletzt geänderte Seiten '''am Ende'''%0a* [@order=ctime@] - Erstellungszeit (siehe Anmerkung)%0a* [@order=group,title@] - mehrfache Kriterien, in diesem Fall sortiert nach Gruppen, innerhalb der Gruppen sortiert nach Titeln%0a* [@order=random@] - verwürfle die Seiten in eine zufällige Reihenfolge%0a* [@order=$:pagetextvarname@] - alphabetisch nach [[PageTextVariables|Seiten-Text-Variablen]][=-=]Werten (beachten Sie: keine geschweiften Klammern um die Variable)%0a* [@order=$pagevarname@] - alphabetisch nach [[PageVariables|Seiten-Variablen]][=-=]Werten (beachten Sie: keine geschweiften Klammern um die Variable)%0aAußerdem erlaubt die @@order=@@-Option angepasste Sortierfunktionen zu schreiben.%0a%0a* Anmerkung: @@trail=@@ erhält die Reihenfolge der Seiten, so wie sie in der entspechenden Seite angeordnet sind (es sei denn, man hat ausdrücklich @@order=@@ eingesetzt oder es gibt eine vorgegebene Reihenfolge in der Seitenlistenvorlage). Also ist PmWikis alphabetische Standardreihenfolge außer Kraft gesetzt, wenn @@trail=@@ eingesetzt wird.%0a* Annmerkung: ctime (Erstellungszeit) wird in den Seiten erst von PmWiki 2.1.beta15 an aufwärts gespeichert. Seiten, die mit vorherigen Versionen angelegt wurden, enthalten das ctime-Attribut nicht und können danach nicht sortiert werden.  %0a%0a[[#pagelistcache]]%0a!!! cache=0%0aSeitenlisten können zwischengespeichert werden, was den Prozess erheblich beschleunigt (wenn [[PmWiki/PagelistVariables#PageListCacheDir|$PageListCacheDir]] gesetzt ist). Hin und wieder führt dieses Zwischenspeichern zu unerwünschten Ergebnissen, die Angabe von @@cache=0@@ schaltet das Zwischenspeichern ab.%0a%0a[[#includevariable]]%0a!!!! Variablen als Parameter angeben%0aMan kann auch Variablen innerhalb der Seitenlistenanweisung angeben und sich in der Vorlage auf diese Variablen beziehen, indem man das [@{$$variable1}@]-Format benutzt.%0a-> [@(:pagelist fmt=#pagelist variable1="value" variable2="value2":)@]%0aDas setzt voraus, dass die Site $EnableRelativePageVars gesetzt hat, was in PmWiki 2.2.0 empfohlen wird &ndash; aber standardmäßig ausgeschaltet ist, um ein Upgraden von 2.1.x zu erleichtern. %0a %0aZum Beispiel mit der Vorlage%0a%0a(:markup:)%0a>>comment%3c%3c%0a[[#tvars]]%0a(:template default count=1 ParamName=Simon:)%0aHi, {$$ParamName}, how are you today?%0a[[#tvarsend]]%0a>>%3c%3c%0a(:markupend:)%0a%0aerhält man:%0a%0a(:markup class=horiz:)%0a(:pagelist fmt=#tvars ParamName="Sam":)%0a%0a(:pagelist fmt=#tvars ParamName="Sally":)%0a%0a(:pagelist fmt=#tvars:)%0a(:markupend:)%0a%0a''Siehe auch $EnableUndefinedTemplateVars.'' %0a%0a!! Beispiele%0a%0aSchließe den Inhalt einer zufälligen Seite aus der Bannergruppe ein:%0a->[@(:pagelist group=Banners order=random count=1 fmt=#include list=normal:)@]%0a%0aZeige eine einfache Liste der zehn zuletzt geänderten Dateien an:%0a->[@(:pagelist trail=Site.AllRecentChanges count=10 fmt=#simple:)@]%0a%0aZeige die "Top Twenty" der größten Kochbuch-Seiten%0a->[@(:pagelist group=Cookbook order=size count=-20 :)@]%0a%0a!![[#searchbox]] Die Searchbox-Direktive%0a%0a%0aDie [@(:searchbox:)@]-Direktive nimmt generell die gleichen Parameter wie die [@(:pagelist:)@]- und die [@(:input search:)@]-Direktive an:%0a* Seitenlisten-Parameter können zum Eingabetext der Searchbox (oder zum Markup oder zu beidem) hinzugefügt werden.%0a* Texteingabebox-Parameter können zum Searchbox-Markup hinzugefügt werden.%0a** Ein anfänglicher Suchstring kann im Searchbox-Markup angegeben werden, muss aber die Form @@value='suchstring'@@ haben. Dieser Suchstring erscheint im Eingabefeld und kann für die Suche (vor der Suche) verändert werden.%0a** Ein optionaler Platzhalter-Wert kann in der Form @@placeholder="Suche"@@ angegeben werden. In jüngsten Browsern erscheint dieser Wert grau im Suchfeld, wenn es leer ist. Beachten Sie, dieses Attribut ist valides HTML5, wenn Sie es aber in einem HTML4-Skin benutzen, wird Ihre Seite nicht valide sein. %0a** Optional können Sie @@aria-label@@- und andere @@aria-*@@-Zugänglichkeitsattribute hinzufügen, die dem Eingabefeld angefügt werden.%0a** Die Größe des Eingabefeldes kann mit dem @@size@@-Parameter angegeben werden, wobei @@size=40@@ der aktuelle Standard ist.%0a*** Tipp: Wenn mehr als eine Searchbox auf der Seite erscheinen, kann man mit einem leeren Anfangswert (@@value=''@@) im Markup aller Eingabefelder verhindern, dass sich ein Suchstring auf alle Searchboxen ausbreitet.%0a* Die Zielseite für die Ausgabe des Suchergebnisses lässt sich mit dem Parameter @@target=''GruppenName.SeitenName''@@ setzen. Der Standard ist die aktuelle Seite.%0a* Das ganze Searchbox-Eingabeformular kann überschrieben werden, indem man die Variable $SearchBoxFmt in seiner Konfigurationsdatei definiert. Wenn $SearchBoxFmt definiert ist, werden die Parameter für [@(:searchbox:)@] ignoriert und der Inhalt der $SearchBoxFmt-Variablen wird statt dessen benutzt.%0a%0aDer zusätzliche Parameter [@label="label"@] kann benutzt werden, um die Aufschrift der zugehörigen Submit-Schaltfläche zu ändern.%0a%0a   [@(:searchbox label="Durchsuche dies Wiki":)@]%0a   %0aStandardmäßig hat das Eingabefeld den "Text"-Typ wegen der Kompatibilität mit HTML/XHTML. Alternativ können Sie es für HTML5 auf den "search"-Inputtyp setzen, siehe    $SearchBoxInputType (einige HTML5-Skins setzten das schon ein). %0a%0a[[#searchresults]]%0a!! Die Suchergebnis-Direktive %0aDie [@(:searchresults:)@]-Direktive nimmt generell die gleichen Parameter wie die [@(:pagelist:)@]- und die [@(:input search:)@]-Direktive an. %0a%0a!!![[#pagelistreq]] request=1 req=1%0aDie Suchergebnisse erscheinen ohne die Einleitung, die da heißt "Suche nach ..." .%0a %0a!!! Anpassen von "Suche nach ..." und "3 Treffer auf ..."%0aUm die Texte, die das Suchergebnis umrahmen, zu ändern, kann man das Folgende anpassen und zur ''local/config.php'' oder zur ''$FarmD/local/farmconfig.php'' hinzufügen. %0a%0a->[@XLSDV('de', array(%0a        'SearchFor' => 'Suchergebnis für %3cem>$Needle%3c/em>:',%0a        'SearchFound' => %0a                '$MatchCount Seiten gefunden unter $MatchSearched durchsuchten Seiten.'%0a));@]%0a-->[-Hinweis: 'de' muss für andere Sprachen als Deutsch entsprechend angepasst werden.-]%0a%0aAlternativ kann man auch die 'SearchFor'- und 'SearchFound'-Strings in der [[Internationalizations|Übersetzungsseite]] anpassen.%0a%0aAuch die $SearchResultsFmt-Variable kann in ''local/config.php'' oder ''$FarmD/local/farmconfig.php'' gesetzt werden.%0a%0a%0a->[@%0aSDV($SearchResultsFmt, "%3cdiv class='wikisearch'>\$[SearchFor]%0a    %3cdiv class='vspace'>%3c/div>\$MatchList%0a    %3cdiv class='vspace'>%3c/div>\$[SearchFound]%3c/div>");@]%0a%0a!! Siehe auch%0a%0a* [[PageDirectives#attachlist]] - Zeige eine Liste von Anhängen an%0a* [[Site.PageListTemplates]] - Standard-Seitenlistenvorlagen von PmWiki%0a* [[Cookbook:PagelistTemplateSamples]] - beigesteuerte Seitenlistenvorlagenbeispiele%0a* [[PmWikiDe/PageListTemplates|+]] - So erzeugt man angepasste Seitenlistenvorlagen für die @@fmt=@@-Option%0a* [[PmWikiDe.PagelistVariables|+]] - ''local/config.php''-Anpassungen%0a* [[Cookbook:Forms]] - Dokumentation für [@(:input text:)@]-Markups, die für [@(:searchbox:)@] bereitgestellt werden%0a* [[PmWikiDe.CustomPagelistSortOrder|+]] - {PmWikiDe.CustomPagelistSortOrder$:Summary}%0a* [[Cookbook:CustomPagelistSortOrderFunctions]] - {Cookbook.CustomPagelistSortOrderFunctions$:Summary}%0a* [[Cookbook:PageListMultiTargets]] - {Cookbook.PageListMultiTargets$:Summary} [-(Erlaubt mehrere Ziele und Joker-Zeichen im [=link==]-Parameter in den [[PageLists|Seitenlisten]])-]%0a* [[Cookbook:SearchResults]] - {Cookbook.SearchResults$:Summary}%0a* [[PageDirectives#attachlist]] - zeige ein Liste von Anhängen%0a* [[PmWiki.Search]] - {Search$:Summary}%0a* [[Cookbook:PageList|+]] - {Cookbook.PageList$:Summary}%0a%0a%0a!! [[#FAQ]] FAQ%0a%0a[[#faq]]%0a>>faq%3c%3c%0aQ: Wie öffnet PmWiki Seiten mit PageStore?%0aA: Wenn PmWiki eine Datei zum Lesen öffnen muss, fragt es die PageStore-Objekte eines nach dem anderen, in der Reihenfolge, in der Sie sie in der ''config.php''-Datei definiert haben, ob sie MeineGruppe.MeineSeite haben. Das erste PageStore-Objekt, das diese Seite findet, gibt sie zurück und wenn es noch mehr PageStore-Objekte gibt, werden diese nicht behelligt.%0a%0aWenn Sie ein PageStore-Objekt definieren mit Pfaden wie [@wiki.d/{$Group}/{$FullName}@] und dann fragen "gibt es eine Seite MeineGruppe.MeineSeite", prüft das PageStore-Objekt nur "ist da eine Datei ''wiki.d/MeineGruppe/MeineSeite''", es sieht also nur in dem Unterverzeichnis ''wiki.d/MeineGruppe'' nach, nicht in anderen Unterverzeichnissen.%0a%0aWenn Sie eine Seite schreiben, wird nur das erste PageStore-Objekt benutzt, das gewöhnlich $WikiDir ist. So können wir die Dokumentation in wikilib.d haben, doch wenn Sie eine Seite aus ''PmWiki'' oder der ''Site''-Gruppe bearbeiten, wird sie in wiki.d gespeichert und von da an wird nur noch diese Datei in wiki.d gelesen und geschrieben.%0a%0aQ: Wie ist das Verhalten von ''pagelist'' und ''searchresults'', wenn nur ein Name oder Wort angegeben wird?%0aA: Beide, ''pagelist'' und ''searchresults'', durchsuchen alle Gruppen, außer entweder%0a** es gibt ein ''group=DieseGruppe''-Argument im Suchfeld oder im Markup, oder%0a** Sie haben ''[@(:template default group=EineGruppe,{*$Group}:)@]'' in der pagelist-Vorlage, oder%0a** es gibt ein ''@@request=1@@''-Argument im Markup und da ist irgendwie ein ''@@$_REQUEST['group']@@''-Argument, z.&nbsp;B. vom Suchformular oder von der URL, oder%0a** Sie setzen irgendwelche @@$SearchPatterns['xy']@@ und @@list=xy@@, oder%0a** setzen eine Standard-@@$MakePageListOpt['gruppe']@@ oder @@$SearchBoxOpt['gruppe']@@.%0a%0aWenn eine Option nicht benutzt wird, sollte diese Option nicht vordefiniert werden. %0a** Wenn es kein Suchwort gibt, zeige alle Seiten; %0a** wenn @@group=@@ nicht benutzt wird, zeige alle Gruppen; %0a** wenn @@name=@@ nicht benutzt wird, zeige alle Seiten;%0a** wenn @@link=@@ nicht benutzt wird, zeige Seiten, die irgendwo hin zeigen oder auch nicht;%0a** wenn @@count=@@ nicht benutzt wird, zeige alle Seiten anstatt nur einen Teil davon (die einzige Ausnahme ist die @@order=@@-Option, die als Standard @@order=name@@ enthält, da ohne diesen Standard die Ergebnisse zwischen Seitennachladen uneinheitlich sortiert werden, was besonders unglücklich ist, wenn Sie auch noch @@count=21..30@@ benutzen. %0a
time=1616827171
title=Seitenlisten
