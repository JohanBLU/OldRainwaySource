version=pmwiki-2.2.125 ordered=1 urlencoded=1
author=MFWolff
charset=UTF-8
csum=a hidden subdirectory works faster (+20)
ctime=1303301230
name=PmWikiDe.OtherVariables
rev=18
targets=PmWikiDe.OtherVariables,PmWikiDe.FmtPageName,PmWikiDe.SecurityVariables,PmWikiDe.PageVariables,Cookbook.HttpVariables,Cookbook.MoreCustomPageVariables,PmWikiDe.PageTextVariables,PmWikiDe.PagelistVariables,PmWikiDe.Forms
text=(:title Sonstige Variablen:)%0a(:Summary: Beschreibung der Variablen, die noch nicht klassifiziert sind.:)%0a(:Original_Page: PmWiki.{$Name}:)%0a(:Translation_Date: 2011-04-28:)%0a(:Translation_Status: %25green%25fertig%25%25:)%0a(:Audience: Administratoren (FTP):)%0a%0a:$FmtV:%0a: :Diese Variable ist ein assoziatives Array, das benutzt wird für Stringersetzungen am Ende eines Aufrufes von [[FmtPageName]](). Für jedes Element in dem Array wird der "Schlüssel", interpretiert als String, durch seinen zugehörigen "Wert" ersetzt. Diese Variable ist dafür vorgesehen, um Ersetzungsvariablen zu speichern, die häufig wechselnde Werte haben (dadurch vermeidet man einen Neuaufbau des Variablencache und [[FmtPageName]]() wird schneller). Siehe auch $FmtP. %25green%25Werte von $FmtV werden gesetzt von den internen Funktionen FormatTableRow, LinkIMap, HandleBrowse, PreviewPage, HandleEdit, PmWikiAuth, und PasswdVar, augenscheinlich um Werte zu setzen für vom System erzeugte Stringersetzungen wie PageText.%25%25%0a%0a:$FmtP:%0a: :Diese Variable ist ein assoziatives Array, das benutzt wird für Stringersetzungen nahe dem Beginn eines Aufrufs von [[FmtPageName]](). Für jedes Element in dem Array wird der "Schlüssel", interpretiert als String, durch seinen zugehörigen "Wert" ersetzt, der für den Namen der aktuellen Seite ermittelt wurde. Dies wird zum Beispiel benutzt, um $-Ersetzungen zu handhaben, die vom Seitennamen abhängig sind, welcher an [[FmtPageName]]() übergeben wurde. Siehe auch $FmtV. %25green%25 zu robots.php: Wenn $EnableRobotCloakActions gesetzt ist, wird ein Muster an $FmtP angefügt, das jeglichen "?action="-URL-Parameter in Seiten-URLs verhindert; PmWiki erzeugt so also keine URLs für Aktionen, auf die Suchmaschinenroboter nicht zugreifen dürfen. Das kann die Last des Server erheblich reduzieren, indem er an die Roboter keine Links ausliefert, die ohnehin nicht im Index auftauchen dürfen.%25%25%0a%0a:$FmtPV:%0a: :Diese Variable ist ein Array, das [[PageVariables|Seiten-Variablen]] definiert. Neue Variablen können definiert werden mit [@$FmtPV['$VarName'] = 'variable definition';@], die dann in Markups wie [@{$VarName}@] benutzt werden können. Bitte bedenken Sie, dass die Inhalte von [@$FmtPV['$VarName']@] ausgewertet werden, um den endgültigen Text für @@$VarName@@ zu erzeugen, deshalb muss der Inhalt ein PHP-Ausdruck sein, der zum Zeitpunkt der Auswertung gültig ist. Insbesondere wird dies hier %25red%25nicht funktionieren%25%25:%0a%0a:: :%25red%25[@#Das funktioniert nicht@]%25%25 %0a:: :[@$FmtPV['$MyText'] = "This is my text."; # WARNUNG: Das funktioniert nicht!@]%0a%0a: :Das Problem ist, dass %25blue%25This is my text.%25%25 kein gültiger PHP-Ausdruck ist. Damit es funktioniert, müsste das in Anführungszeichen gesetzt werden. Was also tatsächlich in @@$FmtPV['$MyText']@@ gespeichert werden müsste, ist %25blue%25"This is my text."%25%25, was ein gültiger PHP-Ausdruck für einen String '''ist'''. Demnach ist der korrekte Weg, den Textstring einzusetzen, einen weiteren Satz von Anführungszeichen um alles herum zu setzen. %0a%0a:: :[@#das wird funktionieren@]%0a:: :[@$FmtPV['$MyText'] = '"This is my text."';@]%0a%0a: :Das ist eine Folge dessen, wie in PHP oder PmWiki auf Variablen zugegriffen wird. Damit die Seiten-Variable @@$MyVar@@ den Inhalt der internen Variablen @@$myvar@@ ausgibt, versuchen viele Leute so etwas, %25red%25was nicht funktioniert%25%25:%0a%0a:: :%25red%25[@#Das funktioniert auch nicht!@]%25%25 %0a:: :[@$myvar = EineKomplexeFunktion(); @]%0a:: :[@$FmtPV['$MyVar'] = $myvar; # WARNUNG: geht nicht!@] %0a%0a: :Es gibt mehrere korrekte Wege, je nach dem, ob Sie den Wert von @@$myvar@@ brauchen wie er zur der Zeit ist, in der der @@$FmtPV@@-Eintrag erfolgte, oder zu der Zeit, wo eine jeweilige Instanz von @@$MyVar@@ in der Seite ausgewertet wird. Für die meisten, einfachen Seiten-Variablen, die sich während des Seitenaufbaus nicht ändern, ist es effektiver, den Wert zu setzen, wenn der Eintrag erzeugt wird:%0a%0a:: :[@$myvar = EineKomplexeFunktion();@]%0a:: :[@$FmtPV['$MyVar'] = "'" . $myvar . "'"; #fange den Inhalt von $myvar ein@]%0a  %0a: :Hinweis: Wenn @@$myvar@@ ein einfaches Anführungszeichen enthält, wird das obige nicht funktionieren. Sie müssen die Variable noch bearbeiten um alle einfachen Anführungszeichen abzufangen (zu escapen).  %0a%0a: :Für komplexere Fälle, in denen @@$MyVar@@ an verschiedenen Stellen auf der Seite unterschiedliche Werte hat (möglicherweise aufgrund des Effekts anderer Markups), müssen Sie den @@FmtPV@@-Eintrag zu einer Referenzvariablen machen, die auf eine globale Variable referenziert (und die Variable sollte besser eine globale Variable sein), wie hier:%0a%0a:: :[@global $myvar;@]%0a:: :[@$FmtPV['$MyVar'] = '$GLOBALS["myvar"]';@]%0a%0a: :Schließlich kann Sie nichts davon abhalten, dass die Evaluation des @@FmtPV@@-Eintrags einfach zu einer Funktion führt, die den Ersetzungstext erzeugt: %0a%0a:: :[@# add page variable {$Today}, formats today's date as yyyy-mm-dd@]%0a:: :[@$FmtPV['$Today'] = 'strftime("%25Y-%25m-%25d", time() )';@]%0a%0a>>frame%3c%3c%0a: : Noch einmal: Bitte beachten Sie, dass Werte der Elemente von $FmtPV mit eval() ausgewertet werden. Sie sollte also Benutzereingaben bereinigen. Das Folgende ist sehr unsicher:%0a%0a:: : [@$FmtPV['$Var'] = $_REQUEST['Var'];@] %25red%25# höchst unsicher, erlaubt PHP-Kode-Injektion%0a:: : [@$FmtPV['$Var'] = '"'. addslashes($_REQUEST['Var']).'"';@] %25red%25# höchst unsicher, erlaubt PHP-Kode-Injektion%25%25%0a%0a: : Siehe im Rezept Cookbook:HttpVariables nach einem besseren Weg, diese Variablen zu nutzen.%0a>>%3c%3c%0a%0a: :Siehe [[Cookbook:MoreCustomPageVariables]] für weitere Beispiele, wie man [@$FmtPV@] einsetzen kann.%0a%0a:$MaxPageTextVars: Diese Variable verhindert endlose Schleifen durch versehentliche rekursive Seiten-Text-Variablen, die einen Server zum Erliegen bringen können. Der Standardwert ist 500, d.&nbsp;h. jede Seiten-Text-Variable einer Seite kann 500 mal in einer Wikitextseite dargestellt werden. Wenn Sie sie mehr als 500 mal brauchen, setzen Sie in die ''config.php'' etwas wie das Folgende hinein: %0a: :@@$MaxPageTextVars = 10000;@@ # zehntausendmal%0a%0a:$DefaultEmptyPageTextVars: Ein Array, das die Standardwerte für Seitentextvariablen festlegt, die in der Seite definiert wurden, aber leer sind. Siehe [[PageTextVariables#default|+]].%0a%0a%0a:$DefaultUnsetPageTextVars: Ein Array, das die Standardwerte für Seitentextvariablen festlegt, die nicht auf der angesehenen Seite definiert wurden, oder wenn der Besucher kein Leserecht für die Seite hat, in der die Variablen definiert wurden. Siehe [[PageTextVariables#default|+]].%0a%0a:$PageCacheDir:ermöglicht das Zwischenspeichern von HTML für Seiten ohne Bedingungen. Die Variable enthält den Namen eines beschreibbaren Verzeichnisses, wo PmWiki die HTML-Ausgabe zwischenspeichern kann, um die aufeinanderfolgende Ausgabe der selben Seiten zu beschleunigen. Siehe auch $PageListCacheDir.%0a%0a     # ermögliche das Zwischenspeichern in work.d/.pagecache%0a     $PageCacheDir = 'work.d/.pagecache';%0a%0a:$MarkupMarkupLevel: Diese globale Variable ist eine positive Ganzzahl, wenn die Markup-Auswertung innerhalb eines [@(:markup:)@]-Blocks arbeitet; sonst ist sie 0 (Null) oder 'null' (PHP-Wert 'null').%0a%0a:$EnableInputDataAttr: Diese Variable kontrolliert, ob [[forms|Eingabeformularelemente]] selbst erstellte @@data-*@@-Attribute akzeptieren sollten. Per Voreinstellung tun sie es.%0a    # data-*-Attribute in Formularen abstellen%0a    $EnableInputDataAttr = 0;%0a
time=1580370852
title=Sonstige Variablen
