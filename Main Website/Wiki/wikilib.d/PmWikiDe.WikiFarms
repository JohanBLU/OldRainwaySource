version=pmwiki-2.2.105 ordered=1 urlencoded=1
author=mfwolff
charset=UTF-8
csum=link to FarmSetupByExample
ctime=1154329745
name=PmWikiDe.WikiFarms
rev=22
targets=PmWikiDe.WikiGroup,PmWikiDe.Installation,PmWikiDe.WikiGroupMotivation,PmWikiDe.WikiFarms,Cookbook.CookbookBasics,PmWikiDe.LocalCustomizations,PmWiki.PathVariables,PmWikiDe.WikiFarmTerminology,PmWikiDe.WikiFarmsAdvanced,Cookbook.FarmSetupByExample,PmWiki.WikiFarms,Cookbook.WikiFarmAlternative
text=(:title Wikifarmen:)%0a(:Summary: Begriffserklärung und Installation von Wiki-Farmen:)%0a(:Original_Page: PmWiki.{$Name}:)%0a(:Translation_Date: 2012-06-17:)%0a(:Translation_Status: %25green%25fertig%25%25:)%0a(:Audience: Administratoren (Fortgeschrittene):)%0a%0aEine Wikifarm sind zwei oder mehr Wikis, die auf einem Webserver installiert sind und einige Komponenten gemeinsam nutzen. Der Begriff ist abgeleitet von der englischen Phrase 'Server Farm'.%0a%0aDiese Seite gibt Aufschluss über die Hintergründe rund um Wikifarmen und beschreibt, wie man eine 'normale' PmWiki-Konfiguration in eine Wikifarm überführt, indem man weitere PmWikis hinzufügt. Es gibt mehrere Wege eine Wikifarm zu konfigurieren; diese Seite beschreibt lediglich einen Weg, um es für Administratoren, die zum ersten Mal eine Farm installieren, so einfach wie möglich zu halten.%0a%0aDiese Seite wird drei Wege, Inhalte zu organisieren, diskutieren:%0a# Benutzung von [[WikiGroup|+]]%0a# Benutzung von unabhängigen Wiki-Sites mit einer gemeinsamen, geteilten Kodebasis (eine "Farm")%0a# Benutzung von unabhängigen Wiki-Sites mit einer vollständigen PmWiki-[[Installation]] pro Site%0a%0a!! Die Wahl zwischen separaten Wiki-Sites und [[WikiGroup|+]]%0a!!! Was spricht für [[WikiGroup|+]]?%0aWenn man Inhalte auf unabhängig voneinander installierte Wikis verteilt (z.&nbsp;B. mit ihrem eigenen URL), ist es schwierig (aber nicht unmöglich), Dienstleistungen anzubieten, die Zugriff auf mehr als ein Wiki benötigen. die PmWiki-Suchfunktion zum Beispiel kann nur in einem Wiki suchen. Eine Farm zu benutzen als einen Weg, verwandte Inhalte zu unterteilen ist generell eine schlechte Idee. Ein viel besserer Weg, den Inhalt zu unterteilen, ist der Gebrauch von [[WikiGroup|+]]. Siehe auch [[WikiGroupMotivation|+]].%0a%0a!!! Was spricht für unabhängige Wiki-Sites?%0aWenn der Inhalt im Großen und Ganzen unabhängig ist und es kaum oder keine Notwendigkeit gibt, Daten der Sites miteinander zu teilen, ist es sinnvoll, die Wikis in zwei unabhängig installierte Sites aufzuteilen.%0a%0a!! Die Wahl zwischen getrennten, unabhängigen Installationen von PmWiki und einer [[WikiFarms|Wikifarm]]%0aSowie Sie entschieden haben, dass Sie ein getrenntes Wiki (mit seinem eigenen URL) brauchen, haben Sie zwei grundlegende Möglichkeiten:%0a# Sie [[Installation|installieren]] PmWiki in einem neuen Verzeichnis. Das bringt Ihnen zwei gänzlich unabhängige Wikis, die alles vollständig selbst enthalten. Das ist '''keine''' Wikifarm.%0a# Sie erzeugen eine Wikifarm, indem Sie ein existierendes Wiki als das "Home-Wiki" benutzen, worin die meisten geteilten PmWiki-Komponenten liegen werden. %0a%0a'''Die primäre Motivation für eine Wikifarm ist es, den administrativen Aufwand zu reduzieren, den man hat, wenn man mehrere Wikis parallel betreibt'''. In einer Farm werden die meisten Programmdateien von allen Wikis der Farm gemeinsam genutzt, aber an einer einzigen Stelle gespeichert. Der Administrator ist somit in der Lage, z.&nbsp;B. ein Upgrade auf eine neue Version von PmWiki für jedes der Wikis durchzuführen, indem er lediglich einmal die zentral gespeicherten Programmdateien erneuert.%0a%0aAus der Sicht eines Nutzers der verschiedenen Wikis gibt es keinen Unterschied zwischen getrennten, alles selbst enthaltenden Installationen von PmWiki und getrennten Wikis in einer Wikifarm, jedes Wiki der Farm ist absolut unabhängig von den anderen und erscheint als eine separate Website. Jedes Wiki in einer Farm:%0a* hat seinen eigenen URL und die URLs können verschiedenen Domains zugeordnet sein,%0a* kann sein eigenes Layout haben, indem es unterschiedliche Skins benutzt,%0a* kann seine eigenen Erweiterungen oder "Rezepte" haben, siehe [[(Cookbook:)Cookbook Basics]],%0a* kann seine eigenen administrativen Verantwortlichkeiten für die jeweilige Konfiguration haben.%0a%0a!!!Was spricht für unabhängige, alles selbst enthaltende Installationen von PmWiki?%0a* Es ist keine Wikifarm und erfordert keine zusätzlichen administrativen Kenntnisse - es sind einfach zwei Installationen.%0a* Wenn Sie sich entschließen, eines der Wikis auf einen anderen Server zu übertragen, können Sie einfach des Wikis Verzeichnisstruktur auf den anderen Server kopieren und es wird funktionieren (unter der Voraussetzung, dass dort ein Webserver mit PHP vorhanden ist).%0a* Sie können auf den verschiedenen Wikis unterschiedliche Versionen von PmWiki laufen lassen (gut zum Testen neuer Versionen).%0a* Egal, wie schlimm Sie eine Installation verhunzt haben, es hat auf die anderen keinen Einfluss.%0a%0a!!!Was spricht für eine [[WikiFarms|Wikifarm]]?%0a* Sie können für alle Wikis in der Farm gleichzeitig ein Upgrade einspielen, indem Sie es in Ihr Home-Wiki einspielen.%0a* Rezepte können über alle Wikis hinweg geteilt werden.%0a* Teile Ihrer Konfiguration kann über die Wikigrenzen hinweg geteilt werden.%0a* Der meiste Kode ist an einer Stelle gespeichert und kann von allen Wikis geteilt werden.%0a%0a%0a!!Ich kann mich immer noch nicht entscheiden, ob ich eine Farm nutzen soll ...%0aDie gute Nachricht ist: Sie brauchen sich nicht vorab zu entscheiden. In der Praxis wird empfohlen, erst eine "normale" oder einzelne [[(PmWikiDe/)Installation]] von PmWiki durchzuführen und diese eine gewisse Zeit zu benutzen. Legen Sie Seiten an und bearbeiten Sie sie. Lernen Sie Rezepte aus dem Kochbuch (Cookbook) hinzuzufügen. Sie sollten unbedingt auch die Funktionen von [[(PmWikiDe/)WikiGroup|+]] installieren und testen, denn u.&nbsp;U. sind diese bereits ausreichend.%0a%0aWenn Sie entschieden haben, eine Wikifarm zu erzeugen, dann lesen Sie weiter ...%0a%0a%0a%0a!!Erstellen/Konfigurieren einer [[WikiFarms|Wikifarm]]%0a!!!Die Grundvoraussetzung%0aBevor Sie eine Farm erstellen, stellen Sie sicher, dass:%0a* Sie eine laufende Installation eines PmWiki haben, die das 'Home-Wiki' für Ihre Farm werden kann%0a* alle Wikis der Farm später auf dem gleichen Webserver laufen werden%0a* jedes Wiki einen eigenen URL bekommen kann, wie z.&nbsp;B.:%0a**[= http://www.beispiel.de/wiki1/ =]%0a**[= http://www.beispiel.de/wiki2/ =]%0a**[= http://anderes.beispiel.de/wiki1/ =]%0a** usw.%0a%0a!!Erstellen des 'Home-Wiki'%0aSie haben doch zu diesem Zeitpunkt eine laufende PmWiki-Installation, oder? Das ist gut, weil dieses Wiki sich anschickt, das 'Home-Wiki' der Farm zu werden.%0a%0aErstellen Sie im Verzeichnis, das das existierende Wiki enthält, eine Datei ''local/farmconfig.php''. Diese Datei wird die [[(local )customizations|lokalen Anpassungen]] enthalten, die für die ganze Farm zutreffen sollen. Z.&nbsp;B. kann man in ''farmconfig.php'' ein Admin-Passwort festlegen, welches dann in allen Wikis der Farm gültig ist.%0a%0aWenn der URL für das existierende 'Home-Wiki' [=http://www.beispiel.de/pmwiki/=] ist, dann sieht die einfachste ''farmconfig.php'' wie folgt aus:%0a%0a    [@%3c?php if (!defined('PmWiki')) exit();%0a      $FarmPubDirUrl = 'http://www.beispiel.de/pmwiki/pub';@]%0a%0aDies lädt dann die Variable $FarmPubDirUrl mit dem Speicherort des ''pub/''-Verzeichnisses des 'Home-Wikis'. Alle Wikis in der Farm teilen sich dieses ''pub/''-Verzeichnis. Das ''pub/''-Verzeichnis enthält alle Skin-Definitionen und GUI-Edit-Buttons, die von den Wikis der Wiki-Farm gemeinsam genutzt werden sollen.%0a%0aSo verblüffend dies klingt, dies sind schon alle Änderungen, die benötigt werden, um das existierende 'Home-Wiki' in eine Wiki-Farm zu verwandeln.%0a%0a!!!Ein Weiteres Wikis innerhalb der Farm erstellen%0a-%3c1. Erzeugen Sie ein neues Verzeichnis, das das neue Wiki enthalten wird. Es muss vom Webserver erreichbar sein, so wie das des 'Home-Wiki'.%0a%0a-%3c2. Erzeugen Sie eine Datei ''index.php'' in diesem Verzeichnis, die die folgende Anweisung enthält:%0a%0a    %3c?php include_once([='=]''path/to/pmwiki.php''');%0a%0a->Damit benutzt das neue PmWiki die Dateien und Programme aus dem 'Home-Wiki'. Die Angabe ''[@path/to/pmwiki.php@]'' ist der Pfad, in dem die Datei ''pmwiki.php'' des 'Home-Wiki' gespeichert ist. Sie können sowohl eine absolute Pfandangabe ([@/home/username/pmwiki/pmwiki.php@]) als auch eine relative Pfadangaben ([@../pmwiki/pmwiki.php@]) benutzen. Benutzen Sie ''keinen'' URL - es darf also kein '[@http://@]' in der Pfadangabe enthalten sein. Für Windows-Web-Server ist der komplette Dateipfad zu benutzen [@C:/Apache Group/Apache2/www/mynewwiki/@].%0a%0a-%3c3. Öffnen Sie Ihren Webbrowser und geben Sie den URL des neuen Wiki in der Adresszeile ein, also eine Adresse, die mit '[@http://@]' beginnt. PmWiki wird versuchen, automatisch ein beschreibbares ''wiki.d/''-Verzeichnis zu erzeugen, in dem die Wiki-Seiten gespeichert werden. Wenn eine Fehlermeldung erscheint, befolgen Sie die Angaben der Fehlermeldung. Wenn Sie die Option "slightly more secure installation" wählen, müssen Sie beide genannten Kommandos ausführen.%0a%0aIhre Wiki-Farm ist nun installiert und enthält 2 Wikis. Um weitere Wikis hinzuzufügen, müssen Sie einfach die letzten 3 Schritte wiederholen.%0a%0a!!!Anpassungen%0aJede Wiki-Farm erbt die Einstellungen aus ''farmconfig.php''. Alle Anpassungen, die in der Wiki-Farm übergreifend Gültigkeit haben sollen, müssen also in ''farmconfig.php'' gespeichert sein.%0a%0aErstellen Sie ein ''local/''-Verzeichnis innerhalb des Dateienverzeichnisses von jedem Wiki, in dem alle lokalen [[PmWikiDe/local customizations|Anpassungen]] enthalten sein werden, die nur auf das jeweiligen Wiki wirken sollen. Die Farm-Einstellungen werden vor den lokalen Einstellungen gelesen, so dass die lokalen Einstellungen die farmweit geltenden überschreiben. Erzeugen Sie wenigstens eine ''config.php''-Datei mit einem neuen Wiki-Titel:%0a%0a->[@%0a%3c?php if (!defined('PmWiki')) exit();%0a  ## Title Ihres Wiki in der Farm%0a  $WikiTitle = 'Neues Wiki';%0a@]%0a%0a%0aDie PmWiki-Variable ''$FarmD'' zeigt auf das Verzeichnis, in dem die pmwiki.php des 'Home-Wiki' gespeichert ist. Sie wird als Prefix benötigt, um auf gemeinsam genutzte Komponenten des jeweiligen Wikis zuzugreifen. Zum Beispiel:%0a*''$FarmD/scripts/'' zeigt auf das gemeinsame Verzeichnis ''scripts/'' %0a*''$FarmD/pub/'' zeigt auf das gemeinsame Verzeichnis ''pub/'' directory%0a*''$FarmD/cookbook/'' zeigt auf das gemeinsame Verzeichnis ''cookbook/'' directory%0a%0aJedes Skript, das Sie in ''farmconfig.php'' einfügen, muss mit einer Zeile wie der folgenden eingefügt werden:%0a-> @@include_once("$FarmD/cookbook/scriptfile.php");@@\\%0aBeachten Sie die doppelten Anführungszeichen. Einfache Anführungszeichen würden für die per-Farm-Einfügung funktionieren, aber sie funktionieren nicht für die Variable $FarmD.%0a%0a!!!Hinweise%0a* Die Terminologie, die in Wiki-Farms benutzt wird, ist nicht durchgängig. Siehe auch [[WikiFarmTerminology|+]]%0a* Es ist wichtig zu wissen, dass nicht alle Rezepte aus dem Kochbuch für Wikifarmen geschrieben und getestet wurden. Beachten Sie die Informationen, wie das jeweilige Rezept auf die Wiki-Farm anzuwenden ist.%0a* Es gibt viel, viel mehr Funktionalitäten, die man mit einer Wiki-Farm nutzen kann. Einige sind beschrieben in der Seite [[WikiFarmsAdvanced|+]], die auch Verweise auf Schritt-für-Schritt-Anleitungen enthält [-(in englisch)-], um Wikifarmen zu installieren.%0a%0a!!!Passwort Gebrauch/Autorisierung in Farm-Wikis%0a%0a>>faq%3c%3c [[#faq]]%0aQ:Wie kommt es, dass ich meine Autorisierung behalte, wenn ich in ein anderes Wiki innerhalb der Farm wechsle?%0a%0aA:PmWiki nutzt PHP-Sessions um Autentifikations- und Autorisierungsinformationen zu behalten und per Standard richtet PHP die Dinge so ein, dass alle Interaktionen mit dem gleichen Server als Teil der gleichen Sitzung (Session) angesehen werden. %0a%0aEin einfacher Weg, das zu bereinigen, ist sicherzustellen, dass jedes Wiki einen eigenen Cookienamen für seine Sessionidentitität benutzt. Nahe des Anfangs einer ''local/config.php''-Datei eines Wikis, bevor "authuser" oder irgend ein anderes Rezept aufgerufen wird, fügen Sie eine Zeile wie die folgende ein:%0a%0a-> @@session_name('XYZSESSID');@@%0a%0aSie können irgend einen alphanumerischen Namen für XYSESSID einsetzen, für ein Wiki "cs559-1" würden Sie vielleicht dies wählen:%0a%0a-> @@session_name('CS559SESSID');@@%0a%0a%0aDas wird die Sitzungen unabhängig voneinander halten. %0a>>%3c%3c%0a[[#faqend]]%0a%0a!!!Siehe auch: %0a* [[Cookbook:Farm Setup By Example]] - {Cookbook.FarmSetupByExample$:Summary}%0a* [[Cookbook:Wiki Farm Alternative]] - {Cookbook.WikiFarmAlternative$:Summary}%0a->[-Beides in Englisch-]%0a%0aKategorie: [[(http://www.pmwiki.org/wiki/Category/)WikiFarms]] %0a%0a
time=1510947399
title=Wikifarmen
